<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dark Web Analysis Training Portal</title>
    <style>
        :root {
            --bg-color: #0a0a0a;
            --terminal-color: #0c1c1c;
            --text-color: #33ff33;
            --text-shadow: 0 0 5px #33ff33;
            --alert-color: #ff3333;
            --link-color: #3399ff;
            --warning-color: #ffcc00;
            --info-color: #00ccff;
            --font-main: 'Courier New', monospace;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: var(--font-main);
            line-height: 1.6;
            overflow-x: hidden;
            padding: 20px;
            position: relative;
        }

        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                repeating-linear-gradient(
                    0deg,
                    rgba(0, 0, 0, 0.11),
                    rgba(0, 0, 0, 0.11) 1px,
                    transparent 1px,
                    transparent 2px
                );
            pointer-events: none;
            z-index: 1000;
            opacity: 0.3;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }

        .glitch-title {
            font-size: 2.5rem;
            letter-spacing: 2px;
            text-shadow: var(--text-shadow);
            animation: glitch 3s infinite;
            position: relative;
            display: inline-block;
        }

        .glitch-title::before,
        .glitch-title::after {
            content: "DARK WEB ANALYSIS TRAINING";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.8;
        }

        .glitch-title::before {
            color: #ff00ff;
            z-index: -1;
            animation: glitch-2 3s infinite;
        }

        .glitch-title::after {
            color: #00ffff;
            z-index: -2;
            animation: glitch-3 2.5s infinite;
        }

        .subtitle {
            color: var(--warning-color);
            margin-bottom: 10px;
            text-shadow: 0 0 5px var(--warning-color);
        }

        .terminal {
            background-color: var(--terminal-color);
            border-radius: 5px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.2);
            position: relative;
            overflow: hidden;
            border: 1px solid var(--text-color);
        }

        .terminal::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--text-color), transparent);
            animation: scan 2s linear infinite;
        }

        .terminal-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(51, 255, 51, 0.3);
            padding-bottom: 10px;
        }

        .terminal-title {
            font-weight: bold;
            color: var(--text-color);
        }

        .terminal-buttons {
            display: flex;
        }

        .terminal-button {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-left: 5px;
            cursor: pointer;
        }

        .tb-red { background-color: #ff5f56; }
        .tb-yellow { background-color: #ffbd2e; }
        .tb-green { background-color: #27c93f; }

        .terminal-content {
            height: 300px;
            overflow-y: auto;
            padding: 10px;
            font-size: 14px;
            position: relative;
        }

        .terminal-input {
            display: flex;
            align-items: center;
            margin-top: 15px;
        }

        .prompt {
            color: var(--text-color);
            margin-right: 10px;
            font-weight: bold;
        }

        .cmd-input {
            background: transparent;
            border: none;
            color: var(--text-color);
            font-family: var(--font-main);
            font-size: 14px;
            flex-grow: 1;
            outline: none;
        }

        .cursor {
            display: inline-block;
            width: 8px;
            height: 15px;
            background-color: var(--text-color);
            animation: blink 1s step-end infinite;
            vertical-align: middle;
        }

        .output-line {
            margin-bottom: 5px;
            opacity: 0;
            animation: fadeIn 0.3s forwards;
        }

        .command {
            color: var(--warning-color);
            font-weight: bold;
        }

        .warning {
            color: var(--alert-color);
            text-shadow: 0 0 5px var(--alert-color);
        }

        .info {
            color: var(--info-color);
            text-shadow: 0 0 5px var(--info-color);
        }

        .link {
            color: var(--link-color);
            text-decoration: none;
            cursor: pointer;
            position: relative;
        }

        .link:hover {
            text-decoration: underline;
        }

        .hidden-content {
            background-color: rgba(0, 0, 0, 0.9);
            color: var(--text-color);
            padding: 20px;
            margin-top: 20px;
            border-radius: 5px;
            border: 1px solid var(--text-color);
            display: none;
        }

        .section {
            margin-bottom: 40px;
        }

        .section-title {
            color: var(--warning-color);
            margin-bottom: 15px;
            font-size: 1.5rem;
            position: relative;
            display: inline-block;
        }

        .section-title::after {
            content: "";
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, var(--warning-color), transparent);
        }

        .tooltip {
            position: absolute;
            background-color: rgba(0, 0, 0, 0.9);
            border: 1px solid var(--text-color);
            padding: 10px;
            border-radius: 5px;
            color: var(--text-color);
            max-width: 300px;
            z-index: 100;
            display: none;
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.3);
        }

        .tooltip-title {
            color: var(--warning-color);
            font-weight: bold;
            margin-bottom: 5px;
            border-bottom: 1px solid var(--warning-color);
            padding-bottom: 3px;
        }

        .term {
            border-bottom: 1px dashed var(--text-color);
            cursor: help;
            position: relative;
        }

        .interactive-game {
            display: flex;
            flex-direction: column;
            background-color: var(--terminal-color);
            border-radius: 5px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.2);
            border: 1px solid var(--text-color);
        }

        .game-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .game-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 20px;
        }

        .game-site {
            width: calc(50% - 10px);
            background-color: #111;
            border: 1px solid var(--text-color);
            padding: 15px;
            border-radius: 5px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .game-site:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.4);
        }

        .site-url {
            color: var(--link-color);
            font-weight: bold;
            margin-bottom: 10px;
            display: block;
        }

        .site-content {
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        .site-features {
            font-size: 0.8rem;
            color: #999;
        }

        .reveal-btn {
            display: inline-block;
            background-color: transparent;
            border: 1px solid var(--text-color);
            color: var(--text-color);
            padding: 8px 15px;
            cursor: pointer;
            font-family: var(--font-main);
            margin-top: 10px;
            transition: all 0.3s ease;
            border-radius: 3px;
        }

        .reveal-btn:hover {
            background-color: rgba(51, 255, 51, 0.1);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: var(--terminal-color);
            padding: 30px;
            border-radius: 5px;
            max-width: 600px;
            width: 90%;
            position: relative;
            border: 1px solid var(--text-color);
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
            animation: glitchIn 0.5s;
        }

        .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            color: var(--text-color);
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .modal-title {
            color: var(--warning-color);
            margin-bottom: 15px;
            font-size: 1.3rem;
            border-bottom: 1px solid var(--warning-color);
            padding-bottom: 10px;
        }

        .analyzer {
            background-color: var(--terminal-color);
            border-radius: 5px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.2);
            position: relative;
            border: 1px solid var(--text-color);
        }

        .analyzer-input {
            display: flex;
            margin-bottom: 20px;
        }

        .analyzer-input input {
            flex-grow: 1;
            padding: 8px 15px;
            background-color: #000;
            border: 1px solid var(--text-color);
            color: var(--text-color);
            font-family: var(--font-main);
        }

        .analyzer-input button {
            padding: 8px 15px;
            background-color: var(--text-color);
            color: #000;
            border: none;
            cursor: pointer;
            font-family: var(--font-main);
            font-weight: bold;
            margin-left: 10px;
        }

        .analyzer-results {
            display: none;
            padding: 15px;
            background-color: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--text-color);
            margin-top: 15px;
        }

        .progress-container {
            height: 20px;
            background-color: #111;
            border-radius: 10px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0;
            background: linear-gradient(90deg, var(--text-color), var(--info-color));
            border-radius: 10px;
            transition: width 0.5s ease;
            position: relative;
        }

        .risk-level {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .risk-meter {
            display: flex;
            align-items: center;
            margin-top: 20px;
        }

        .risk-indicator {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 10px;
        }

        .low { background-color: #00cc00; }
        .medium { background-color: #ffcc00; }
        .high { background-color: #ff3333; }

        .risk-detail {
            font-size: 1rem;
        }

        .code-section {
            background-color: #000;
            padding: 10px;
            font-family: monospace;
            margin: 10px 0;
            border-left: 3px solid var(--warning-color);
            overflow-x: auto;
        }

        .base64-section {
            background-color: rgba(0, 0, 0, 0.5);
            padding: 15px;
            margin-top: 20px;
            border: 1px solid var(--text-color);
        }

        .base64-input {
            width: 100%;
            padding: 8px;
            background-color: #000;
            border: 1px solid var(--text-color);
            color: var(--text-color);
            font-family: var(--font-main);
            margin-bottom: 10px;
        }

        .base64-output {
            padding: 15px;
            background-color: #111;
            border: 1px solid var(--text-color);
            min-height: 100px;
            margin-top: 15px;
            display: none;
        }

        .hidden-message {
            opacity: 0;
            transition: opacity 0.5s ease;
            padding: 15px;
            background-color: #111;
            border: 1px solid var(--text-color);
            margin-top: 15px;
        }

        .hover-area {
            background-color: #111;
            padding: 15px;
            text-align: center;
            margin-top: 20px;
            border: 1px dashed var(--text-color);
            cursor: help;
        }

        @keyframes glitch {
            0%, 100% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
        }

        @keyframes glitch-2 {
            0%, 100% { transform: translate(0); }
            25% { transform: translate(3px, 0); }
            50% { transform: translate(-3px, 2px); }
            75% { transform: translate(1px, -1px); }
        }

        @keyframes glitch-3 {
            0%, 100% { transform: translate(0); }
            33% { transform: translate(-2px, -1px); }
            66% { transform: translate(2px, 1px); }
        }

        @keyframes blink {
            from, to { opacity: 1; }
            50% { opacity: 0; }
        }

        @keyframes scan {
            0% { transform: translateY(0) translateX(-100%); }
            100% { transform: translateY(0) translateX(100%); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes glitchIn {
            0% { transform: scale(0.9); opacity: 0; }
            10% { transform: scale(1.1); opacity: 0.3; }
            30% { transform: scale(0.95); opacity: 0.7; }
            50% { transform: scale(1.05); opacity: 0.9; }
            100% { transform: scale(1); opacity: 1; }
        }

        .site-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 3px 8px;
            font-size: 0.7rem;
            border-radius: 3px;
            font-weight: bold;
        }

        .safe {
            background-color: rgba(0, 204, 0, 0.2);
            color: #00cc00;
            border: 1px solid #00cc00;
        }

        .scam {
            background-color: rgba(255, 51, 51, 0.2);
            color: #ff3333;
            border: 1px solid #ff3333;
            display: none;
        }

        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(51, 255, 51, 0.3);
            font-size: 0.8rem;
            color: #666;
        }

        .disclaimer {
            font-size: 0.8rem;
            color: #999;
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #333;
            border-radius: 3px;
            background-color: rgba(0, 0, 0, 0.3);
        }

        /* Media Queries */
        @media (max-width: 768px) {
            .game-site {
                width: 100%;
            }
            
            .terminal-content {
                height: 200px;
            }
            
            .glitch-title {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1 class="glitch-title">DARK WEB ANALYSIS TRAINING</h1>
            <p class="subtitle">Learn to navigate and analyze hidden services safely</p>
        </header>

        <div class="section">
            <h2 class="section-title">Terminal Access</h2>
            <div class="terminal">
                <div class="terminal-header">
                    <div class="terminal-title">TOR Network Terminal</div>
                    <div class="terminal-buttons">
                        <div class="terminal-button tb-red"></div>
                        <div class="terminal-button tb-yellow"></div>
                        <div class="terminal-button tb-green"></div>
                    </div>
                </div>
                <div class="terminal-content" id="terminal-content">
                    <div class="output-line">Welcome to the <span class="term" data-term="tor">TOR</span> Network Terminal Interface...</div>
                    <div class="output-line">Initializing secure connection... <span class="info">CONNECTED</span></div>
                    <div class="output-line">Type '<span class="command">help</span>' for available commands.</div>
                </div>
                <div class="terminal-input">
                    <span class="prompt">root@onion:~$</span>
                    <input type="text" class="cmd-input" id="cmd-input" spellcheck="false" autocomplete="off">
                    <span class="cursor"></span>
                </div>
            </div>
        </div>

        <div class="section">
            <h2 class="section-title">Suspicious Site Detection Game</h2>
            <div class="interactive-game">
                <div class="game-header">
                    <h3>Can you identify which sites are legitimate and which are scams?</h3>
                    <p>Click on a site to analyze its features and make your decision.</p>
                </div>
                <div class="game-container">
                    <div class="game-site" data-is-scam="true">
                        <span class="site-badge safe">Safe?</span>
                        <span class="site-badge scam">Scam!</span>
                        <div class="site-url">darkwallt3xrqdvc.onion</div>
                        <div class="site-content">
                            Welcome to Dark Wallet - The most secure cryptocurrency wallet on the darknet! 
                            SPECIAL OFFER: Deposit 0.1 BTC now and receive 0.5 BTC in return!
                        </div>
                        <div class="site-features">
                            <p>• Created: 2 weeks ago</p>
                            <p>• No SSL certificate</p>
                            <p>• Mentions "urgent" offer</p>
                            <p>• Similar to legitimate "DarkWallet" but slightly misspelled</p>
                        </div>
                    </div>

                    <div class="game-site" data-is-scam="false">
                        <span class="site-badge safe">Safe?</span>
                        <span class="site-badge scam">Scam!</span>
                        <div class="site-url">dreadytofatroptsdj6io7l3xptbet6onoyno2yv7jicoxknyazubrad.onion</div>
                        <div class="site-content">
                            Welcome to Dread - The Reddit of Darknet. Community discussions, verified markets list, and security tips.
                        </div>
                        <div class="site-features">
                            <p>• Established community (3+ years)</p>
                            <p>• Consistent uptime history</p>
                            <p>• No urgent money requests</p>
                            <p>• Matches known legitimate address pattern</p>
                        </div>
                    </div>

                    <div class="game-site" data-is-scam="true">
                        <span class="site-badge safe">Safe?</span>
                        <span class="site-badge scam">Scam!</span>
                        <div class="site-url">empir3market6jumyn.onion</div>
                        <div class="site-content">
                            Empire Market - Back Online! Log in now to recover your funds from our previous <span class="term" data-term="exit-scam">exit</span>. 
                            Special access fee: 0.001 BTC.
                        </div>
                        <div class="site-features">
                            <p>• Claims to be a previously <span class="term" data-term="exit-scam">exit-scammed</span> market</p>
                            <p>• Requires payment for access</p>
                            <p>• Misspelled name with numbers</p>
                            <p>• Different URL than original market</p>
                        </div>
                    </div>

                    <div class="game-site" data-is-scam="false">
                        <span class="site-badge safe">Safe?</span>
                        <span class="site-badge scam">Scam!</span>
                        <div class="site-url">privacyintyqcroe.onion</div>
                        <div class="site-content">
                            Privacy International - Advocating for strong digital privacy rights through research and legal action. Donations welcome but not required.
                        </div>
                        <div class="site-features">
                            <p>• Matches legitimate organization</p>
                            <p>• Consistent with public mission</p>
                            <p>• No urgent money requests</p>
                            <p>• Information focused rather than transaction focused</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2 class="section-title">Risk Analyzer Tool</h2>
            <div class="analyzer">
                <p>Enter a .onion URL to analyze potential risks:</p>
                <div class="analyzer-input">
                    <input type="text" id="analyzer-input" placeholder="darkexample123abc.onion">
                    <button id="analyze-btn">Analyze</button>
                </div>
                <div class="analyzer-results" id="analyzer-results">
                    <div class="progress-container">
                        <div class="progress-bar" id="analysis-progress"></div>
                    </div>
                    <div class="risk-level">
                        <div>Low Risk</div>
                        <div>Medium Risk</div>
                        <div>High Risk</div>
                    </div>
                    <div class="risk-meter">
                        <div class="risk-indicator" id="risk-indicator"></div>
                        <div class="risk-detail" id="risk-detail">Analyzing...</div>
                    </div>
                    <div id="analysis-details"></div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2 class="section-title">Hidden Content Discovery</h2>
            <div class="terminal">
                <div class="terminal-header">
                    <div class="terminal-title">Hidden Content Tools</div>
                </div>
                <div class="terminal-content">
                    <div class="output-line">The dark web often contains hidden messages and encoded data.</div>
                    <div class="output-line">Practice your <span class="term" data-term="steganography">steganography</span> and decoding skills below:</div>
                    
                    <div class="base64-section">
                        <h4>Base64 Decoder</h4>
                        <p>Decode hidden <span class="term" data-term="base64">Base64</span> messages:</p>
                        <input type="text" class="base64-input" id="base64-input" placeholder="Enter Base64 text...">
                        <button class="reveal-btn" id="decode-base64">Decode</button>
                        <div class="base64-output" id="base64-output"></div>
                    </div>
                    
                    <div class="hover-area" id="hover-area">
                        Hover over this area to reveal hidden information...
                    </div>
                    <div class="hidden-message" id="hidden-message">
                        <div class="warning">Hidden content discovered!</div>
                        <p>You've found a secret message. On dark web sites, information is often hidden in plain sight using simple CSS techniques.</p>
                        <p>Always inspect page source code and look for hidden divs or content with opacity:0.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="disclaimer">
            <strong>Educational Purpose Only:</strong> This simulator is designed purely for educational purposes to help users identify suspicious websites and learn about online safety. This tool does not provide access to actual dark web content or illegal services.
        </div>
        
        <footer>
            <p>Dark Web Analysis Training Portal - Cybersecurity Education</p>
        </footer>
    </div>

    <div class="modal" id="game-modal">
        <div class="modal-content">
            <button class="close-btn" id="close-modal">&times;</button>
            <h3 class="modal-title" id="modal-title">Site Analysis</h3>
            <div id="modal-content"></div>
            <button class="reveal-btn" id="reveal-answer">Reveal Answer</button>
        </div>
    </div>

    <div class="tooltip" id="tooltip"></div>

    <script>
        // Terminal functionality
        const terminal = document.getElementById('terminal-content');
        const cmdInput = document.getElementById('cmd-input');
        const terminalCommands = {
            'help': 'Available commands: help, visit, clear, analyze, info, exit',
            'clear': function() {
                terminal.innerHTML = '';
                return '';
            },
            'exit': 'Cannot exit secure terminal. Access maintained.',
            'visit': function(args) {
                if (!args) return 'Usage: visit [.onion URL]';
                
                const siteInfo = {
                    'duckduckgogg42xjoc72x3sjasowoarfbgcmvfimaftt6twagswzczad.onion': {
                        name: 'DuckDuckGo',
                        desc: 'A privacy-focused search engine.',
                        risk: 'Low risk: Verified legitimate service.'
                    },
                    'darkwallt3xrqdvc.onion': {
                        name: 'Dark Wallet (SUSPICIOUS)',
                        desc: 'Claims to be a cryptocurrency wallet service.',
                        risk: 'High risk: Likely scam. Too-good-to-be-true offers and misspelled name.'
                    },
                    'dreadytofatroptsdj6io7l3xptbet6onoyno2yv7jicoxknyazubrad.onion': {
                        name: 'Dread Forum',
                        desc: 'Darknet discussion forum, often called "the Reddit of the darknet".',
                        risk: 'Medium risk: Legitimate forum but verify the exact URL carefully.'
                    },
                    'y7xbsnmucbcwjjnb.onion': {
                        name: 'Unknown Market',
                        desc: 'Marketplace with no history or verification.',
                        risk: 'High risk: No established reputation or verification.'
                    }
                };
                
                if (siteInfo[args]) {
                    return `Connecting to ${args}...\nSite: ${siteInfo[args].name}\nDescription: ${siteInfo[args].desc}\nRisk Assessment: ${siteInfo[args].risk}`;
                } else {
                    return `Unable to connect to ${args}. Site not found or connection refused.`;
                }
            },
            'analyze': function(args) {
                if (!args) return 'Usage: analyze [.onion URL]';
                return `Analyzing ${args}...\nChecking reputation databases...\nScanning for malicious patterns...\nAnalysis complete. Use the Risk Analyzer Tool below for detailed results.`;
            },
            'info': function(args) {
                const topics = {
                    'tor': 'The Onion Router (Tor) is specialized software that allows users to browse the web anonymously by routing traffic through multiple servers.',
                    'opsec': 'Operational Security (OPSEC) refers to the practice of protecting critical information from potential adversaries.',
                    'pgp': 'Pretty Good Privacy (PGP) is an encryption program that provides cryptographic privacy and authentication for data communication.',
                    'markets': 'Darknet markets are commercial websites that operate via darknets such as Tor. They primarily function as black markets.'
                };
                
                if (!args) return 'Usage: info [topic] - Available topics: tor, opsec, pgp, markets';
                return topics[args] || `No information available on topic: ${args}`;
            }
        };

        // Process terminal commands
        cmdInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                const cmd = cmdInput.value.trim().toLowerCase();
                const cmdParts = cmd.split(' ');
                const mainCmd = cmdParts[0];
                const args = cmdParts.slice(1).join(' ');
                
                // Add command to terminal
                const cmdLine = document.createElement('div');
                cmdLine.className = 'output-line';
                cmdLine.innerHTML = `<span class="prompt">root@onion:~$</span> <span class="command">${cmd}</span>`;
                terminal.appendChild(cmdLine);
                
                // Process command
                let response = '';
                if (mainCmd in terminalCommands) {
                    const result = terminalCommands[mainCmd];
                    response = typeof result === 'function' ? result(args) : result;
                } else if (cmd !== '') {
                    response = `Command not found: ${mainCmd}. Type 'help' for available commands.`;
                }
                
                // Add response to terminal
                if (response) {
                    const responseLines = response.split('\n');
                    responseLines.forEach((line, index) => {
                        setTimeout(() => {
                            const responseLine = document.createElement('div');
                            responseLine.className = 'output-line';
                            responseLine.textContent = line;
                            terminal.appendChild(responseLine);
                            terminal.scrollTop = terminal.scrollHeight;
                        }, index * 100);
                    });
                }
                
                // Clear input and scroll to bottom
                cmdInput.value = '';
                terminal.scrollTop = terminal.scrollHeight;
            }
        });

        // Tooltip functionality
        const terms = {
            'tor': {
                title: 'TOR (The Onion Router)',
                desc: 'A specialized network that anonymizes internet activity by routing traffic through multiple encrypted layers, like the layers of an onion. It provides access to .onion sites not accessible via regular browsers.'
            },
            'exit-scam': {
                title: 'Exit Scam',
                desc: 'When a darknet market or service suddenly shuts down, taking all user funds with them. Administrators disappear without warning, leaving users unable to withdraw their cryptocurrency.'
            },
            'phishing': {
                title: 'Phishing',
                desc: 'Creating fake websites that mimic legitimate ones to steal login credentials or personal information. On the dark web, phishing sites often use URLs very similar to popular markets or services.'
            },
            'pgp': {
                title: 'PGP (Pretty Good Privacy)',
                desc: 'An encryption program that provides cryptographic privacy and authentication. On the dark web, PGP is commonly used to verify identities and encrypt communications.'
            },
            'base64': {
                title: 'Base64 Encoding',
                desc: 'A method of representing binary data in ASCII string format. Often used to hide or obscure information on websites or in communications.'
            },
            'steganography': {
                title: 'Steganography',
                desc: 'The practice of hiding information within other non-secret data or a physical object. On the dark web, messages might be hidden within images or other files.'
            }
        };

        document.addEventListener('mouseover', function(e) {
            const term = e.target.closest('.term');
            if (term) {
                const termType = term.getAttribute('data-term');
                const termInfo = terms[termType];
                
                if (termInfo) {
                    const tooltip = document.getElementById('tooltip');
                    tooltip.innerHTML = `<div class="tooltip-title">${termInfo.title}</div><p>${termInfo.desc}</p>`;
                    
                    const rect = term.getBoundingClientRect();
                    tooltip.style.top = `${rect.bottom + window.scrollY + 5}px`;
                    tooltip.style.left = `${rect.left + window.scrollX}px`;
                    tooltip.style.display = 'block';
                }
            }
        });

        document.addEventListener('mouseout', function(e) {
            if (e.target.closest('.term')) {
                document.getElementById('tooltip').style.display = 'none';
            }
        });

        // Game functionality
        const gameSites = document.querySelectorAll('.game-site');
        const gameModal = document.getElementById('game-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalContent = document.getElementById('modal-content');
        const revealAnswerBtn = document.getElementById('reveal-answer');
        const closeModalBtn = document.getElementById('close-modal');
        let currentGameSite = null;

        gameSites.forEach(site => {
            site.addEventListener('click', function() {
                currentGameSite = this;
                const isScam = this.getAttribute('data-is-scam') === 'true';
                const url = this.querySelector('.site-url').textContent;
                const content = this.querySelector('.site-content').innerHTML;
                const features = this.querySelector('.site-features').innerHTML;
                
                modalTitle.textContent = `Analyze: ${url}`;
                
                modalContent.innerHTML = `
                    <p><strong>Site Content:</strong></p>
                    <div class="code-section">${content}</div>
                    
                    <p><strong>Observable Features:</strong></p>
                    <div class="code-section">${features}</div>
                    
                    <p><strong>Your Assessment:</strong></p>
                    <div class="risk-assessment">
                        <button class="reveal-btn" id="safe-btn">Mark as Safe</button>
                        <button class="reveal-btn" id="scam-btn">Mark as Scam</button>
                    </div>
                    <div id="assessment-result" style="margin-top: 15px;"></div>
                `;
                
                gameModal.style.display = 'flex';
                
                // Add event listeners to buttons
                document.getElementById('safe-btn').addEventListener('click', function() {
                    assessSite(isScam, false);
                });
                
                document.getElementById('scam-btn').addEventListener('click', function() {
                    assessSite(isScam, true);
                });
            });
        });

        function assessSite(isScam, userMarkedAsScam) {
            const resultElement = document.getElementById('assessment-result');
            const isCorrect = (isScam && userMarkedAsScam) || (!isScam && !userMarkedAsScam);
            
            if (isCorrect) {
                resultElement.innerHTML = `<div class="info">Correct assessment! This site is ${isScam ? 'indeed a scam' : 'legitimate'}.</div>`;
            } else {
                resultElement.innerHTML = `<div class="warning">Incorrect assessment! This site is actually ${isScam ? 'a scam' : 'legitimate'}.</div>`;
            }
            
            document.getElementById('safe-btn').disabled = true;
            document.getElementById('scam-btn').disabled = true;
            
            if (isScam) {
                currentGameSite.querySelector('.safe').style.display = 'none';
                currentGameSite.querySelector('.scam').style.display = 'block';
            } else {
                currentGameSite.querySelector('.safe').style.display = 'block';
                currentGameSite.querySelector('.scam').style.display = 'none';
            }
        }

        revealAnswerBtn.addEventListener('click', function() {
            if (currentGameSite) {
                const isScam = currentGameSite.getAttribute('data-is-scam') === 'true';
                const resultElement = document.getElementById('assessment-result');
                
                resultElement.innerHTML = `<div class="info">This site is ${isScam ? 'a SCAM' : 'LEGITIMATE'}.</div>`;
                
                if (isScam) {
                    currentGameSite.querySelector('.safe').style.display = 'none';
                    currentGameSite.querySelector('.scam').style.display = 'block';
                } else {
                    currentGameSite.querySelector('.safe').style.display = 'block';
                    currentGameSite.querySelector('.scam').style.display = 'none';
                }
                
                document.getElementById('safe-btn').disabled = true;
                document.getElementById('scam-btn').disabled = true;
            }
        });

        closeModalBtn.addEventListener('click', function() {
            gameModal.style.display = 'none';
        });

        // Risk analyzer tool
        const analyzerInput = document.getElementById('analyzer-input');
        const analyzeBtn = document.getElementById('analyze-btn');
        const analyzerResults = document.getElementById('analyzer-results');
        const analysisProgress = document.getElementById('analysis-progress');
        const riskIndicator = document.getElementById('risk-indicator');
        const riskDetail = document.getElementById('risk-detail');
        const analysisDetails = document.getElementById('analysis-details');

        analyzeBtn.addEventListener('click', function() {
            const url = analyzerInput.value.trim();
            
            if (!url) {
                alert('Please enter a URL to analyze');
                return;
            }
            
            if (!url.includes('.onion')) {
                analyzerResults.style.display = 'block';
                riskDetail.textContent = 'Invalid .onion URL format';
                return;
            }
            
            // Show results container
            analyzerResults.style.display = 'block';
            
            // Simulate analysis progress
            let progress = 0;
            const progressInterval = setInterval(() => {
                progress += 5;
                analysisProgress.style.width = `${progress}%`;
                
                if (progress >= 100) {
                    clearInterval(progressInterval);
                    showAnalysisResults(url);
                }
            }, 100);
        });

        function showAnalysisResults(url) {
            // Generate random but weighted risk score based on URL characteristics
            let riskScore = Math.random() * 100;
            
            // Adjust risk based on URL patterns
            if (url.includes('wallet') || url.includes('bitcoin') || url.includes('crypto')) {
                riskScore += 30;
            }
            
            if (url.includes('marketplace') || url.includes('market')) {
                riskScore += 20;
            }
            
            if (url.includes('forum') || url.includes('community')) {
                riskScore -= 10;
            }
            
            if (url.length > 50) {
                riskScore -= 15; // Longer URLs are often legitimate services
            }
            
            // Clamp score between 0-100
            riskScore = Math.max(0, Math.min(100, riskScore));
            
            // Update risk indicator
            if (riskScore < 30) {
                riskIndicator.className = 'risk-indicator low';
                riskDetail.textContent = 'Low Risk';
                riskDetail.style.color = '#00cc00';
            } else if (riskScore < 70) {
                riskIndicator.className = 'risk-indicator medium';
                riskDetail.textContent = 'Medium Risk';
                riskDetail.style.color = '#ffcc00';
            } else {
                riskIndicator.className = 'risk-indicator high';
                riskDetail.textContent = 'High Risk';
                riskDetail.style.color = '#ff3333';
            }
            
            // Generate analysis details based on the URL
            let details = '<h4>Analysis Details:</h4><ul>';
            
            if (url.includes('wallet') || url.includes('bitcoin') || url.includes('crypto')) {
                details += '<li class="warning">Financial services are high-risk targets for scams</li>';
            }
            
            if (/\d/.test(url)) {
                details += '<li class="warning">URL contains numbers, which are often used to create lookalike domains</li>';
            }
            
            if (url.length < 20) {
                details += '<li class="warning">Unusually short .onion address may indicate a phishing attempt</li>';
            } else if (url.length > 50) {
                details += '<li class="info">Longer, complex .onion address is typical of legitimate services</li>';
            }
            
            if (Math.random() > 0.5) {
                details += '<li class="info">No reports of scams associated with this address</li>';
            } else {
                details += '<li class="warning">Similar URLs have been reported as scams</li>';
            }
            
            details += '</ul>';
            
            // Add security recommendations
            details += `<h4>Security Recommendations:</h4>
                        <ul>
                            <li>Always verify .onion addresses with trusted sources</li>
                            <li>Use PGP to verify site authenticity</li>
                            <li>Start with small transactions on new marketplaces</li>
                            <li>Check for recent reviews and warnings</li>
                        </ul>`;
            
            analysisDetails.innerHTML = details;
        }

        // Base64 decoder
        const base64Input = document.getElementById('base64-input');
        const decodeBase64Btn = document.getElementById('decode-base64');
        const base64Output = document.getElementById('base64-output');

        decodeBase64Btn.addEventListener('click', function() {
            const input = base64Input.value.trim();
            
            if (!input) {
                alert('Please enter Base64 text to decode');
                return;
            }
            
            try {
                const decoded = atob(input);
                base64Output.textContent = decoded;
                base64Output.style.display = 'block';
            } catch (e) {
                base64Output.textContent = 'Error: Invalid Base64 input';
                base64Output.style.display = 'block';
            }
        });

        // Sample Base64 encoded messages
        const sampleBase64 = [
            'QWx3YXlzIHZlcmlmeSBQR1Agc2lnbmF0dXJlcyBmb3IgYXV0aGVudGljaXR5',
            'TmV2ZXIgc2hhcmUgeW91ciBwZXJzb25hbCBpbmZvcm1hdGlvbiBvbiB0aGUgZGFyayB3ZWI=',
            'RG9uJ3QgY2xpY2sgdW5rbm93biBsaW5rcyBldmVuIGlmIHRoZXkgYXBwZWFyIHRvIGJlIGZyb20gdHJ1c3RlZCBzb3VyY2Vz'
        ];

        // Set a random sample
        base64Input.value = sampleBase64[Math.floor(Math.random() * sampleBase64.length)];

        // Hidden message reveal on hover
        const hoverArea = document.getElementById('hover-area');
        const hiddenMessage = document.getElementById('hidden-message');

        hoverArea.addEventListener('mouseover', function() {
            hiddenMessage.style.opacity = '1';
        });

        hoverArea.addEventListener('mouseout', function() {
            hiddenMessage.style.opacity = '0';
        });

        // Add random glitch effect to elements
        function randomGlitch() {
            const glitchElements = document.querySelectorAll('.glitch-title, .section-title');
            const randomElement = glitchElements[Math.floor(Math.random() * glitchElements.length)];
            
            randomElement.style.animation = 'none';
            randomElement.offsetHeight; // Trigger reflow
            randomElement.style.animation = 'glitch 0.5s';
            
            setTimeout(() => {
                randomElement.style.animation = '';
            }, 500);
        }

        // Apply random glitch effect periodically
        setInterval(randomGlitch, 5000);

        // Initialize terminal with a focus
        cmdInput.focus();
        window.addEventListener('click', function() {
            cmdInput.focus();
        });

        // Add some initial commands to the terminal to guide users
        setTimeout(() => {
            const initialCommands = ['help', 'info tor', 'visit duckduckgogg42xjoc72x3sjasowoarfbgcmvfimaftt6twagswzczad.onion'];
            let cmdIndex = 0;
            
            function typeCommand() {
                if (cmdIndex >= initialCommands.length) return;
                
                const cmd = initialCommands[cmdIndex];
                cmdInput.value = '';
                
                let charIndex = 0;
                const typeInterval = setInterval(() => {
                    if (charIndex < cmd.length) {
                        cmdInput.value += cmd[charIndex];
                        charIndex++;
                    } else {
                        clearInterval(typeInterval);
                        setTimeout(() => {
                            const event = new KeyboardEvent('keydown', {
                                key: 'Enter',
                                code: 'Enter',
                                keyCode: 13,
                                which: 13,
                            });
                            cmdInput.dispatchEvent(event);
                            cmdIndex++;
                            setTimeout(typeCommand, 2000);
                        }, 500);
                    }
                }, 100);
            }
            
            typeCommand();
        }, 1000);
    </script>
</body>
</html>